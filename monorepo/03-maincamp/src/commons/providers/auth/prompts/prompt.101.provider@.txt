아래의 조건을 모두 적용하여, 아래의 요구사항을 모두 구현할 것.
구현 결과를 체크리스트로 반환할 것.

==============================================

조건-커서룰) 아래의 커서룰을 적용하여 작업하고, 이 작업이 끝나면 해당 rules 적용 결과를 체크리스트로 반환할 것.
            - @01-common.mdc

==============================================

조건-파일경로) 구현될 TSX 파일경로: src/commons/providers/auth/auth.provider.tsx

==============================================

핵심요구사항) 완성된 컴포넌트를 layout에서 import하여 연결시킬 것. (children을 감싸도록 만들 것)
            - 연결될 경로: src/app/layout.tsx
            - 연결될 순서: <ApolloClientProvider> 보다 위에 위치할 것.

핵심요구사항) 다음의 기능을 구현하고, 하위 컴포넌트들이 사용 가능하도록 제공할 것.
            ( 페이지URL 경로: commons/constants/url.ts)

[1) AuthContext 인터페이스 및 Hook]
--------------------------------------------------------------------------------

  1) Context 에서 제공할 값/함수 (예시, 타입은 TS로 명확히):

     - isAuthenticated: boolean
       - 로그인 여부
     - user: Supabase User 타입 또는 null
       - 현재 로그인한 유저 정보
     - loading: boolean
       - 초기 로딩 / 동기화 중인지
     - loginPageRedirect: () => void
       - 로그인 페이지로 이동
     - logout: () => Promise<void>
       - 로그아웃 처리 (Supabase + localStorage + 이동)
     - refreshUser: () => Promise<void>
       - Supabase 에서 최신 유저 정보 다시 가져오기

  2) useAuth 훅

     - useAuth() 훅을 만들어 AuthContext 를 반환할 것.
     - Provider 밖에서 useAuth() 를 쓰면
       에러를 throw 해서 바로 문제를 알 수 있게 할 것.

--------------------------------------------------------------------------------
[2) 로그인 (로그인 페이지로 이동)]
--------------------------------------------------------------------------------

  - 여기서는 "로그인 로직"이 아니라,
    "로그인 페이지로 보내는 역할"만 담당한다.
    (실제 signIn 은 로그인 페이지에서 구현)

  1) 요구사항

     - commons/constants/url.ts 의 PAGE_URL.LOGIN 사용.
     - next/navigation 의 useRouter 를 사용하여
       router.push(PAGE_URL.LOGIN) 호출.
     - Supabase 의 signIn 관련 함수는 여기서 호출하지 않는다.
[3) 로그아웃]
--------------------------------------------------------------------------------

  1) 요구사항

     1. Supabase 세션 종료
        - supabase.auth.signOut() 호출.

     2. localStorage 정리
        - localStorage.removeItem('accessToken');
        - localStorage.removeItem('user');

     3. 로그인 페이지로 이동
        - PAGE_URL.LOGIN 으로 이동.
        - router.replace(PAGE_URL.LOGIN) 또는 router.push(PAGE_URL.LOGIN) 사용.
        - replace 를 쓰면 "뒤로가기"로 다시 못 돌아가게 할 수 있음.  
          (선택 이유를 주석으로 짧게 남길 것)

     4. Context 상태 초기화
        - isAuthenticated = false
        - user = null
        - 필요 시 loading 도 false 로 맞춰 줄 것.


[4) 로그인 상태 검증 (실시간 유지)]
--------------------------------------------------------------------------------

  1) 요구사항

     1. localStorage 로 1차 확인
        - accessToken 이 있으면 "로그인 상태",
          없으면 "비로그인 상태"로 본다.
        - 토큰 내용을 해석하거나 복호화하지 않고,
          "있는지/없는지"만 본다.

     2. Supabase 세션으로 2차 확인 (초기 로딩)
        - AuthProvider 마운트 시 supabase.auth.getSession() 호출.
        - 세션이 있으면:
          - 세션의 access_token 을 localStorage 'accessToken' 에 저장.
          - 세션의 user 를 JSON.stringify 해서 'user' 에 저장.
          - Context 의 isAuthenticated, user 도 함께 갱신.
        - 세션이 없으면:
          - localStorage 의 accessToken, user 제거.
          - Context 를 비로그인 상태로 초기화.

     3. onAuthStateChange 로 실시간 감지
        - supabase.auth.onAuthStateChange((event, session) => { ... }) 사용.
        - session 이 생기거나 없어질 때마다:
          - session 이 있으면 accessToken / user 를
            localStorage + Context 에 저장.
          - session 이 없으면 localStorage 에서 제거하고
            Context 도 비로그인 상태로 변경.
        - 컴포넌트 언마운트 시 구독 해제할 것.

     4. 모든 페이지에서 최신 상태 유지
        - AuthProvider 가 layout.tsx 에 최상단에 있으므로
          모든 하위 페이지에서 useAuth() 로
          항상 최신 isAuthenticated / user 를 볼 수 있어야 한다.
        - 초기 세션 확인 중에는 loading = true,
          완료 후에는 loading = false 로 설정.


          [5) 로그인 유저 정보 조회]
--------------------------------------------------------------------------------

  1) 요구사항

     1. localStorage 의 user 읽기
        - localStorage.getItem('user') 를 JSON.parse 해서 사용.
        - JSON.parse 에 실패하면 try/catch 로 잡고:
          - 콘솔에 경고만 찍고
          - localStorage 에서 'user' 를 지우거나
          - user 상태를 null 로 설정.

     2. Supabase 와 동기화
        - 필요하면 supabase.auth.getUser() 또는 getSession()으로
          실제 유저 정보를 가져와서
          localStorage 와 Context 를 덮어써 정리.

     3. 실시간 업데이트
        - onAuthStateChange 에서 session.user 정보가 바뀌면
          항상 localStorage 와 Context 의 user 도 함께 갱신.

     4. 타입
        - 가능하면 Supabase 의 User 타입을 그대로 사용하여
          user 의 타입을 명확히 둘 것.