아래의 조건을 모두 적용하여, 아래의 요구사항을 모두 구현할 것.
구현 결과를 체크리스트로 반환할 것.

==============================================

조건-커서룰) 아래의 커서룰을 적용하여 작업하고, 이 작업이 끝나면 해당 rules 적용 결과를 체크리스트로 반환할 것.
            - @01-common.mdc
            - @04-func.mdc

조건-파일경로) 구현될 HOOK 파일경로: src/components/phones-list/hooks/index.icon-filter.hook.ts
조건-파일경로) 구현될 TEST 파일경로: src/components/phones-list/tests/icon-filter.spec.ts

==============================================

핵심요구사항) playwright 테스트를 활용하여 TDD 기반으로 구현하고, 테스트에 통과할 때까지 반복할 것.

1) 테스트 제외 라이브러리
   - jest
   - @testing-library/react

2) 테스트 조건
   - timeout은 설정하지 않거나, 500ms 미만으로 설정할 것.
   - 페이지가 완전히 로드된 후 테스트할 것.
       - 페이지 로드 식별 요구사항: 고정식별자 data-testid 대기 방법
       - **중요금지사항** 페이지 로드 식별 금지사항: networkidle 대기 방법

3) 테스트 시나리오
   3-1) 아이콘 선택 상태 변경 테스트
        - 아이콘 클릭 시 selectedCategory 상태가 변경되는지 검증
        - 이미 선택된 아이콘 재클릭 시 선택 해제되는지 검증
        - 다른 아이콘 클릭 시 이전 선택이 해제되는지 검증

   3-2) API 호출 테스트
        - 아이콘 선택 시 해당 카테고리로 필터링된 데이터를 API에서 가져오는지 검증
        - 선택 해제 시 전체 데이터를 가져오는지 검증
        - API 호출 파라미터(categories)가 올바른지 검증

   3-3) 로딩 상태 테스트
        - API 호출 중일 때 "로딩 중..." 텍스트가 표시되는지 검증
        - 데이터 로드 완료 후 로딩 메시지가 사라지는지 검증

   3-4) 에러 상태 테스트
        - API 호출 실패 시 에러 메시지가 표시되는지 검증
        - 에러 메시지: "필터를 불러올 수 없습니다."
        - 에러 발생 후에도 아이콘 필터는 계속 동작하는지 검증

핵심요구사항) 아이콘 클릭 시 필터링 API를 호출하는 커스텀 훅을 구현할 것.

1) useIconFilter 훅 정의 (src/components/phones-list/hooks/index.icon-filter.hook.ts)
   1-1) 상태 관리
        - selectedCategory: string | null (선택된 아이콘, 초기값: null)
        - isLoading: boolean (API 호출 중 여부)
        - error: string | null (에러 메시지)
        - phonesList: Phone[] (필터링된 휴대폰 목록)

   1-2) 액션 함수
        - toggleCategory(category: string): void
          * 같은 카테고리 재클릭 시: selectedCategory = null로 설정
          * 다른 카테고리 클릭 시: selectedCategory = category로 설정
          * 선택 시 자동으로 API 호출

   1-3) API 호출 로직
        - Supabase에서 phones 테이블을 쿼리할 것.
        - 필터 조건:
          * selectedCategory가 null이면: 전체 데이터 조회
          * selectedCategory가 설정되면: categories JSONB 배열에 해당 값 포함 여부로 필터링
        - 쿼리 필드: Supabase phones 테이블의 다음 필드 사용
          * id
          * title
          * price
          * categories (JSONB 배열)
          * sale_state (available/reserved/sold)
          * available_from
          * available_until
          * main_image_url

   1-4) 반환값
        - selectedCategory: string | null
        - isLoading: boolean
        - error: string | null
        - phonesList: Phone[] (조회 결과)
        - toggleCategory: (category: string) => void (카테고리 토글 함수)

2) 상태 관리 방식
   2-1) useState를 사용하여 selectedCategory, isLoading, error, phonesList를 관리할 것.
   2-2) useEffect를 사용하여 selectedCategory 변경 시 API 호출을 실행할 것.
   2-3) useCallback을 사용하여 toggleCategory 함수를 메모이제이션할 것.

3) 에러 처리
   3-1) API 호출 실패 시 error 상태에 "필터를 불러올 수 없습니다." 설정할 것.
   3-2) 에러가 발생해도 이전 phonesList는 유지할 것.
   3-3) 카테고리를 재선택하면 error 상태를 초기화할 것.

핵심요구사항) 컴포넌트에서 훅을 사용하여 필터링 기능을 완성할 것.

1) src/components/phones-list/index.tsx 수정
   1-1) useIconFilter 훅을 import 하여 사용할 것.
   1-2) 아이콘 클릭 시 toggleCategory를 호출할 것.
   1-3) isLoading이 true일 때 data-testid="icon-filter-loading"에 "로딩 중..." 표시할 것.
   1-4) error가 있을 때 data-testid="icon-filter-error"에 에러 메시지 표시할 것.
   1-5) phonesList를 리스트에 바인딩할 것.

2) 조건부 렌더링
   2-1) 로딩 중일 때:
        - 아이콘 필터는 활성화 상태 유지할 것.
        - "로딩 중..." 텍스트만 표시할 것.
   2-2) 에러 발생 시:
        - 아이콘 필터는 활성화 상태 유지할 것.
        - 에러 메시지 표시할 것.
        - 이전 phonesList는 그대로 표시할 것.

3) 데이터 바인딩
   3-1) phonesList의 각 항목을 리스트에 렌더링할 것.
   3-2) 각 항목에 다음 정보를 표시할 것:
        - title (상품명)
        - price (가격)
        - main_image_url (대표 이미지)
        - sale_state (거래 상태)
