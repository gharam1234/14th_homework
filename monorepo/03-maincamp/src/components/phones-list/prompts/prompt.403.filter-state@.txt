조건을 모두 적용하여, 아래의 요구사항을 모두 구현할 것.  
구현 결과를 체크리스트로 반환할 것.

==============================================

조건-커서룰)  
아래 커서룰(@01-common.mdc, @04-func.mdc)을 지키면서 작업할 것.  
작업이 끝나면, 이 룰들을 잘 지켰는지 체크리스트로 정리해서 보여줄 것.

- @01-common.mdc
- @04-func.mdc

==============================================

조건-파일경로)

다음 위치에 파일을 구현해야 한다.

- HOOK 파일: `src/components/phones-list/hooks/index.filter.hook.ts`
- STORE 파일: `src/store/filterStore.ts`
- TEST 파일: `src/components/phones-list/tests/filter.spec.ts`

==============================================

핵심요구사항)  
Playwright 테스트를 이용해서 **TDD 방식**으로 개발할 것.  
즉,

1. 먼저 테스트 코드를 작성하고,
2. 테스트가 실패하면,
3. 코드를 고쳐서,
4. **테스트가 모두 통과할 때까지** 계속 수정할 것.

---

### 1) 테스트에서 사용하면 안 되는 라이브러리

아래 라이브러리는 **테스트 코드에서 사용 금지**:

- `jest`
- `@testing-library/react`

Playwright만 사용해서 테스트를 작성해야 한다.

---

### 2) 테스트 조건

- 테스트 `timeout`은:
  - 아예 설정하지 않거나,  
  - **설정한다면 500ms 미만**으로만 설정할 것.

- 테스트는 **페이지가 완전히 로드된 뒤**에 실행해야 한다.
  - “완전히 로드” 되었는지 확인하는 방법:  
    - `data-testid`가 붙은 **고정된 요소**가 나타날 때까지 기다린 뒤 테스트 시작
  - **금지**:  
    - `networkidle`을 기다려서 페이지 로드를 판단하는 방식은 사용하지 말 것.

---

### 3) 테스트 시나리오

#### 3-1) 토글 상태 변경 테스트

- 토글 버튼 클릭 시 `availableNow` 값이 `true ↔ false`로 잘 바뀌는지 확인
- 이 값이 **Zustand 스토어에 제대로 저장되는지**도 확인

#### 3-2) 날짜 범위 선택 테스트

- 시작 날짜를 선택하면 `dateRange.startDate`가 올바르게 변경되는지 확인
- 종료 날짜를 선택하면 `dateRange.endDate`가 올바르게 변경되는지 확인
- “초기화” 기능을 사용하면 `startDate`, `endDate`가 `null`로 되돌아가는지 확인

#### 3-3) 키워드 입력 테스트

- 검색어(키워드)를 입력했을 때 `keyword` 상태가 잘 바뀌는지 확인
- 검색어 길이가 **2자 미만**일 때:
  - 검색 버튼이 **비활성화(disabled)** 되어 있어야 한다.
- 검색어 길이가 **2자 이상**일 때:
  - 검색 버튼이 **활성화(enabled)** 되어 있어야 한다.

---

## 핵심요구사항)  
Zustand를 이용해 필터 상태를 관리하는 훅을 아래 조건으로 구현할 것.

---

### 1) Zustand Store 정의 (`src/stores/filterStore.ts`)

#### 1-1) 상태 구조

스토어에는 다음 상태를 가진다:

- `availableNow: boolean`
  - 기본값: `true`  
  - 의미: “지금 바로 구매 가능한 상품만 보기”
  - Supabase 매핑: `true` → phones.sale_state='available', `false` → 'reserved'
- `dateRange: { startDate: string | null, endDate: string | null }`
  - 기본값: `{ startDate: null, endDate: null }`
- `keyword: string`
  - 기본값: `""` (빈 문자열)

#### 1-2) 액션 함수

아래 함수를 상태와 함께 제공해야 한다:

- `setAvailableNow: (value: boolean) => void`
  - `availableNow` 값을 설정하는 함수
- `setDateRange: (startDate: string | null, endDate: string | null) => void`
  - 날짜 범위를 한 번에 설정하는 함수
- `setKeyword: (value: string) => void`
  - 검색어(키워드)를 설정하는 함수
- `resetFilters: () => void`
  - 모든 필터 상태를 **초기값**으로 되돌리는 함수

#### 1-3) 로컬스토리지 연동

- 상태가 변경될 때마다 **자동으로 `localStorage`에 저장**해야 한다.
  - 키 이름: `"phone-filters"`
- 페이지를 새로고침해도 이전 필터가 유지되도록,  
  - 최초 로드 시 `localStorage`에서 `"phone-filters"` 값을 읽어와  
  - 상태를 복원해야 한다.
- 만약 `localStorage` 사용에 문제가 생기면(접근 에러 등)  
  → 저장된 값이 없어도 **기본값**으로 동작하도록 해야 한다.

---

### 2) 커스텀 훅 구현 (`src/components/phones-list/hooks/index.filter.hook.ts`)

#### 2-1) `usePhoneFilters` 훅 생성

- 이 훅은 위에서 만든 **Zustand 스토어와 연결**되어야 한다.
- 훅이 반환해야 하는 값:

  - `availableNow: boolean`
  - `dateRange: { startDate: string | null, endDate: string | null }`
  - `keyword: string`
  - `setAvailableNow: (value: boolean) => void`
  - `setDateRange: (startDate: string | null, endDate: string | null) => void`
  - `setKeyword: (value: string) => void`
  - `resetFilters: () => void`
  - `isSearchEnabled: boolean`
    - 검색 버튼 활성화 여부 (키워드 길이 기준)

#### 2-2) 유효성 검증 로직

- `isSearchEnabled` 계산 방법:
  - `keyword.trim().length >= 2` 일 때 `true`
  - 그 외에는 `false`
- 검색어에는 **특수문자 제한 없음**
  - 예: `#아이폰!`, `갤럭시@`, `S24+` 등 자유롭게 허용

---

### 3) 컴포넌트 연동

#### 3-1) `src/components/phones-list/index.tsx` 수정

- `usePhoneFilters` 훅을 import해서 사용해야 한다.
- 각 UI 요소에 아래처럼 상태를 연결하고, `data-testid`를 지정한다.

1. **토글 버튼**
   - 상태: `availableNow`
   - 테스트 ID: `data-testid="toggle-available"`

2. **날짜 선택기(date picker)**
   - 상태: `dateRange`
   - 테스트 ID: `data-testid="datepicker"`

3. **검색 입력창**
   - 상태: `keyword`
   - 테스트 ID: `data-testid="search-input"`

4. **검색 버튼**
   - 활성화/비활성 기준: `isSearchEnabled`
   - 테스트 ID: `data-testid="search-button"`

5. **초기화 버튼**
   - 클릭 시: `resetFilters` 호출
   - 테스트 ID: `data-testid="reset-button"`

---

## 핵심요구사
