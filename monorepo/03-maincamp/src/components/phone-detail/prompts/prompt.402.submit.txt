참고: sql/supabase.txt의 스키마 정의 기준
참고할 PAGE 경로: src/app/(protected)/phones/[id]/page.tsx
구현될 HOOK 경로들:
            - src/components/phone-detail/hooks/index.delete.hook.ts
            - src/components/phone-detail/hooks/index.bookmark.hook.ts
            - src/components/phone-detail/hooks/index.inquiry.hook.ts

==============================================

핵심요구사항) 다음의 액션 기능을 Supabase와 연동하여, 단계별(step-by-step)로 구현하고, 마지막에 잘 동작하는지 체크리스트 형태로 정리해서 반환할 것.

            3. 문의 작성 기능 (index.inquiry.hook.ts)
                3-1) 아래와 같은 데이터를 Supabase에 INSERT(저장)할 것.
                        - 저장소: Supabase 'phone_inquiries' 테이블 (문의 내용을 저장하는 테이블)
                        - 테이블 필드:
                            - phone_id: string! (어떤 휴대폰에 대한 문의인지, 해당 기기의 ID)
                            - parent_id: null (새로 작성하는 1차 문의는 항상 최상위라서 null로 고정)
                            - author_id: string! (작성자 ID, Supabase auth.users.id 값)
                            - content: string! (문의 내용 텍스트, 100자 이상 1000자 이하)
                            - status: 'active' (항상 'active'로 저장되는 고정값)
                            - is_answer: false (항상 false로 저장, 이 레코드는 판매자 답변이 아니라 “질문”이라는 의미)
                            - link_url: string | null (선택 입력, 링크가 있을 때만 값 사용)
                            - link_title: string | null (선택 입력, 링크 제목)
                            - link_description: string | null (선택 입력, 링크 설명)
                            - link_image: string | null (선택 입력, 링크 미리보기 이미지 URL)
                        - 참고: 자세한 컬럼 정의는 sql/supabase.txt의 phone_inquiries 테이블 스키마를 따른다.

                3-2) 유효성 검증(입력값 검사) 규칙
                        - content: 반드시 있어야 함(필수), 글자 수 100자 미만이면 에러, 1000자 초과여도 에러
                        - link_url: 선택 입력이지만, 값이 있을 경우 올바른 URL 형식일 때만 DB에 저장 (형식이 틀리면 저장하지 않고 에러 처리)

                3-3) 문의 작성에 성공한 이후에 처리할 로직
                        - 알림메시지: “문의가 작성되었습니다.” 라는 메시지를 화면에 띄운다(예: 토스트/알림창).
                        - 폼 초기화: 문의 입력창, 링크 관련 입력값 등 모든 입력 필드를 빈 값으로 되돌린다.
                        - UI 업데이트: 방금 작성한 문의가 화면의 문의 목록에 바로 보이도록 다시 불러오거나, 목록 상태를 갱신한다.

                3-4) 테스트 시나리오 (사용자 입장에서의 동작 흐름)
                        - 문의 입력 필드 (data-testid="inquiry-input")에 테스트용 텍스트를 입력한다. (100자 이상 입력해야 통과)
                        - 제출 버튼 (data-testid="inquiry-submit")을 클릭한다.
                        - 유효성 검증에 실패하면, 해당 이유를 알려주는 에러 메시지가 화면에 보여야 한다.
                        - 유효성 검증에 성공하면, Supabase의 phone_inquiries 테이블에 새 레코드가 INSERT되고, 폼 입력값이 모두 초기화되어야 한다.

            4. 권한 제어 (모든 액션 공통 규칙)
                4-1) 인증(로그인) 확인
                        - 방식: Supabase auth.getSession()을 사용해서, 현재 로그인된 사용자가 있는지 확인한다.
                        - 비로그인 상태일 때:
                            
                            - 버튼을 눌렀을 때 로그인 페이지로 리다이렉트(이동)시키는 식으로 처리한다.

                4-2) 권한 제어(누가 어떤 행동을 할 수 있는지)
                        - 삭제: 현재 로그인한 사용자 ID가 이 휴대폰의 판매자 ID(seller_id)와 같을 때만 삭제 가능
                        - 즐겨찾기(북마크): 로그인한 사용자라면 누구나 가능
                        - 문의 작성: 로그인한 사용자라면 누구나 가능
                        - 삭제 버튼은 “내가 판매자인 경우에만” 화면에 보이도록 조건부 렌더링할 것

            5) 공통 테스트 조건
                - 테스트에서 사용하지 않을 도구: jest, @testing-library/react
                  (즉, 이 두 라이브러리 기반의 테스트 코드는 작성하지 않는다.)
                - Playwright 기반 TDD 방식으로 구현
                  (테스트를 먼저 작성하고, Playwright로 E2E 테스트를 돌려가며 기능을 구현)
                - 타임아웃: 따로 설정하지 않거나, 설정하더라도 500ms 미만으로 설정할 것.
                - 페이지 로드 대기 조건:
                  - Playwright에서 networkidle 같은 방식은 사용하지 않는다.
                  - 대신 data-testid를 기준으로, 특정 요소가 화면에 나타날 때까지 기다리는 방식으로 구현한다.
