참고: sql/supabase.txt의 스키마 정의 기준
참고할 PAGE 경로: src/app/(protected)/phones/[id]/page.tsx
구현될 HOOK 경로들:
            - src/components/phone-detail/hooks/index.delete.hook.ts
            - src/components/phone-detail/hooks/index.bookmark.hook.ts
            - src/components/phone-detail/hooks/index.inquiry.hook.ts

==============================================

핵심요구사항) 다음의 3가지 액션 기능을 Supabase와 연동하여 step-by-step으로 구현하고, 적용 결과를 체크리스트로 반환할 것.

            1. 판매 글 삭제 기능 (index.delete.hook.ts)
                1-1) 다음의 데이터를 Supabase에서 삭제할 것.
                        - 저장소: Supabase 'phones' 테이블
                        - 삭제 방식: await supabase.from('phones').delete().eq('id', phoneId)
                        - 권한 확인: seller_id === currentUserId만 삭제 가능
                        - 참고: Supabase auth.getSession()으로 현재 사용자 확인

                1-2) 삭제 성공 이후 로직
                        - 알림메시지: "판매 글이 삭제되었습니다."
                        - 이동할 페이지: /phones (PHONES_LIST)

                1-3) 테스트 시나리오
                        - 삭제 버튼 클릭 후 data-testid="delete-modal" 노출
                        - 확인 버튼 클릭 시 DELETE 쿼리 실행
                        - 성공 후 /phones로 이동

            2. 즐겨찾기(북마크) 기능 (index.bookmark.hook.ts)
                2-1) 다음의 데이터를 Supabase에서 관리할 것.
                        - 저장소: Supabase 'phone_reactions' 테이블
                        - 테이블 필드:
                            - phone_id: string (대상 기기 ID)
                            - user_id: string (Supabase auth.users.id)
                            - type: 'favorite' (고정값)
                            - deleted_at: timestamp | null (활성/비활성 구분)
                        - 참고: sql/supabase.txt의 phone_reactions 테이블 스키마

                2-2) 즐겨찾기 토글 로직
                        - 활성 상태 (deleted_at = null): favorite 열기 상태
                        - 비활성 상태 (deleted_at ≠ null): favorite 닫기 상태
                        - 토글 시:
                            1) 활성 상태면 deleted_at을 현재 시각으로 UPDATE (논리적 삭제)
                            2) 비활성 상태면 deleted_at을 NULL로 UPDATE (복구)
                            3) 기록이 없으면 새로 INSERT (deleted_at = null)

                2-3) 상태 관리
                        - Zustand store('useBookmarkStore') 또는 useState 활용
                        - isBookmarked: boolean 상태 관리
                        - 토글 함수: toggleBookmark()

                2-4) UI 반영
                        - 버튼: data-testid="bookmark-button"
                        - 활성 시 CSS 클래스 적용
                        - 클릭 시 즉시 UI 업데이트 (optimistic update)

                2-5) 테스트 시나리오
                        - 즐겨찾기 버튼 클릭 시 phone_reactions 테이블에 레코드 생성/업데이트
                        - 두 번 클릭 시 활성/비활성 상태 토글
                        - 버튼 UI가 상태에 맞게 변경됨

            3. 문의 작성 기능 (index.inquiry.hook.ts)
                3-1) 다음의 데이터를 Supabase에 등록할 것.
                        - 저장소: Supabase 'phone_inquiries' 테이블
                        - 테이블 필드:
                            - phone_id: string! (대상 기기 ID)
                            - parent_id: null (새 문의는 최상위만)
                            - author_id: string! (Supabase auth.users.id)
                            - content: string! (문의 내용, 100자 이상 1000자 이하)
                            - status: 'active' (고정값)
                            - is_answer: false (고정값, 판매자 답변 아님)
                            - link_url: string | null (선택)
                            - link_title: string | null (선택)
                            - link_description: string | null (선택)
                            - link_image: string | null (선택)
                        - 참고: sql/supabase.txt의 phone_inquiries 테이블 스키마

                3-2) 유효성 검증 규칙
                        - content: 필수, 최소 100자, 최대 1000자
                        - link_url: 선택, URL 형식일 경우만 저장

                3-3) 문의 작성 성공 이후 로직
                        - 알림메시지: "문의가 작성되었습니다."
                        - 폼 초기화: 모든 입력 필드 비우기
                        - UI 업데이트: 작성한 문의가 목록에 표시됨

                3-4) 테스트 시나리오
                        - 문의 입력 필드 (data-testid="inquiry-input")에 텍스트 입력
                        - 제출 버튼 (data-testid="inquiry-submit") 클릭
                        - 유효성 검증 실패 시 에러 메시지 표시
                        - 성공 시 phone_inquiries 테이블에 INSERT되고 폼 초기화

            4. 권한 제어 (모든 액션)
                4-1) 인증 확인
                        - 방식: Supabase auth.getSession()
                        - 비로그인 시: 버튼 비활성화 또는 로그인 페이지로 리다이렉트

                4-2) 권한 제어
                        - 삭제: 현재 사용자 === 판매자(seller_id)만 가능
                        - 즐겨찾기: 모든 로그인 사용자 가능
                        - 문의: 모든 로그인 사용자 가능
                        - 삭제 버튼만 조건부 렌더링할 것

            5) 공통 테스트 조건
                - 테스트 제외: jest, @testing-library/react
                - Playwright TDD 기반 구현
                - 타임아웃: 설정하지 않거나 500ms 미만
                - 페이지 로드 대기: data-testid 기반 (networkidle 금지)
