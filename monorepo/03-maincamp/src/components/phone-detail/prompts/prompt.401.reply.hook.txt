아래의 조건을 모두 적용하여, 아래의 요구사항을 모두 구현할 것.
구현 결과를 체크리스트로 반환할 것.

==============================================

조건-커서룰) 아래의 커서룰을 적용하여 작업하고, 이 작업이 끝나면 해당 rules 적용 결과를 체크리스트로 반환할 것.
            - @01-common.mdc
            - @04-func.mdc

조건-파일경로) 구현될 HOOK 파일경로: src/components/phone-detail/hooks/index.reply.hook.ts
조건-파일경로) 구현될 TEST 파일경로: src/components/phone-detail/tests/index.reply.hook.spec.ts

==============================================

핵심요구사항) phone-detail 컴포넌트의 답변 작성/관리 기능을 관리하는 커스텀 훅을 구현할 것.

1) 훅 상태 관리
   1-1) 다음의 상태를 관리할 것
        - replies: Map<inquiryId, Reply[]> (문의별 답변 목록)
        - replyInput: string (입력 중인 답변 내용)
        - characterCount: number (현재 문자 수)
        - editingReplyId: string | null (편집 중인 답변 ID)
        - editingContent: string (편집 중인 답변 내용)
        - isLoading: boolean (로딩 상태)
        - error: string | null (에러 메시지)

   1-2) Reply 타입 정의
        {
          id: string,
          inquiryId: string,
          userId: string,
          userName: string,
          userRole: string,
          content: string,
          createdAt: string,
          updatedAt: string
        }

2) 답변 입력 처리
   2-1) updateReplyInput(content: string) 함수를 구현할 것
        - replyInput 상태 업데이트
        - 최대 100자까지만 허용 (초과 시 잘라내기)
        - characterCount 자동 계산

   2-2) 입력 검증
        - 공백만 입력할 수 없음
        - 최대 100자 제한

3) 답변 작성 함수
   3-1) createReply(inquiryId: string) 함수를 구현할 것
        - 판매자 권한 확인 (currentUserRole === "seller")
        - isLoading을 true로 설정
        - POST /api/inquiries/{inquiryId}/replies 호출
        - 요청 본문: { content: string, userId: string }
        - 응답: { reply: Reply }

   3-2) 성공 시
        - 기존 replies.get(inquiryId) 배열에 reply 추가
        - 배열이 없으면 새로 생성
        - replyInput을 빈 문자열로 초기화
        - characterCount를 0으로 초기화
        - 토스트 알림: "답변이 등록되었습니다."

   3-3) 실패 시
        - error에 에러 메시지 저장
        - 토스트 알림: "답변 등록에 실패했습니다."

4) 답변 편집 초기화
   4-1) initializeEditReply(replyId: string, content: string) 함수를 구현할 것
        - editingReplyId를 replyId로 설정
        - editingContent를 content로 설정
        - characterCount를 content.length로 계산

   4-2) updateEditingContent(content: string) 함수를 구현할 것
        - editingContent 상태 업데이트
        - 최대 100자까지만 허용

5) 답변 수정 함수
   5-1) updateReply(replyId: string) 함수를 구현할 것
        - PUT /api/replies/{replyId} 호출
        - 요청 본문: { content: string }

   5-2) 성공 시
        - replies Map에서 해당 답변 항목 content 업데이트
        - editingReplyId를 null로 초기화
        - editingContent를 빈 문자열로 초기화
        - 토스트 알림: "답변이 수정되었습니다."

   5-3) 실패 시
        - 이전 content로 롤백
        - 토스트 알림: "수정에 실패했습니다."

6) 답변 삭제 함수
   6-1) deleteReply(inquiryId: string, replyId: string) 함수를 구현할 것
        - DELETE /api/replies/{replyId} 호출
        - 낙관적 업데이트: 먼저 UI에서 제거

   6-2) 성공 시
        - replies.get(inquiryId) 배열에서 replyId 항목 제거
        - 토스트 알림: "답변이 삭제되었습니다."

   6-3) 실패 시
        - replies에 항목 다시 추가 (롤백)
        - 토스트 알림: "삭제에 실패했습니다."

7) 권한 확인 함수
   7-1) canReply() 함수를 구현할 것
        - currentUserRole === "seller"인지 확인
        - 반환: boolean

   7-2) canEditReply(userId: string) 함수를 구현할 것
        - currentUserId === userId인지 확인
        - 반환: boolean

8) 훅 반환값
   훅은 다음 객체를 반환할 것:
   {
     replies: Map<string, Reply[]>,
     replyInput: string,
     characterCount: number,
     editingReplyId: string | null,
     editingContent: string,
     isLoading: boolean,
     updateReplyInput: (content: string) => void,
     createReply: (inquiryId: string) => Promise<void>,
     initializeEditReply: (replyId: string, content: string) => void,
     updateEditingContent: (content: string) => void,
     updateReply: (replyId: string) => Promise<void>,
     deleteReply: (inquiryId: string, replyId: string) => Promise<void>,
     canReply: () => boolean,
     canEditReply: (userId: string) => boolean
   }

핵심요구사항) 테스트 시나리오
            1) 답변 작성 테스트
               - 입력 처리 확인
               - 권한 확인
               - POST 호출 및 상태 업데이트 확인

            2) 답변 수정 테스트
               - editingContent 업데이트 확인
               - PUT 호출 및 상태 업데이트 확인

            3) 답변 삭제 테스트
               - DELETE 호출 및 낙관적 업데이트 확인
               - 롤백 처리 확인

            4) 권한 확인 테스트
               - canReply() 판매자 권한 확인
               - canEditReply() 작성자 권한 확인
