아래의 조건을 모두 적용하여, 아래의 요구사항을 모두 구현할 것.
구현 결과를 체크리스트로 반환할 것.

==============================================

조건-커서룰) 아래의 커서룰을 적용하여 작업하고, 이 작업이 끝나면 해당 rules 적용 결과를 체크리스트로 반환할 것.
            - @01-common.mdc
            - @04-func.mdc

조건-파일경로) 구현될 유틸리티 파일경로: src/components/phone-detail/utils/index.utils.ts
조건-파일경로) 구현될 TEST 파일경로: src/components/phone-detail/tests/index.utils.spec.ts

==============================================

핵심요구사항) phone-detail 컴포넌트의 보조 기능을 수행하는 유틸리티 함수들을 구현할 것.

1) 날짜 포매팅 함수
   1-1) formatDate(dateString: string): string 함수를 구현할 것
        - 입력: ISO 형식 날짜 (예: "2024-11-06T10:30:00Z")
        - 출력: "YYYY.MM.DD" 형식 (예: "2024.11.06")
        - 사용처: 문의/답변 작성일자 표시

   1-2) getRelativeTime(dateString: string): string 함수를 구현할 것
        - 입력: ISO 형식 날짜
        - 출력: 상대 시간 표현 (예: "3일 전", "2시간 전")
        - 규칙
          - 1분 이내: "방금 전"
          - 1분 ~ 59분: "X분 전"
          - 1시간 ~ 23시간: "X시간 전"
          - 1일 ~ 6일: "X일 전"
          - 7일 이상: formatDate() 함수 호출하여 날짜 반환
        - 사용처: 문의/답변 작성일자 실시간 표시

2) 공유 기능
   2-1) copyLinkToClipboard(phoneId: string, phoneTitle: string): Promise<boolean> 함수를 구현할 것
        - 기능: 중고폰 상세 URL을 클립보드에 복사
        - URL 형식: "{현재 도메인}/phones/{phoneId}"
        - 반환: 복사 성공 여부 (boolean)
        - 성공 알림: "링크가 복사되었습니다."
        - 실패 처리: 지원하지 않는 브라우저에서 폴백 처리 (텍스트 선택 후 복사)

   2-2) sharePhoneLocation(location: string, phoneTitle: string): void 함수를 구현할 것
        - 기능: 중고폰 판매 위치 정보 공유
        - Web Share API 사용 (지원하는 브라우저)
        - 공유 제목: "중고폰 판매위치"
        - 공유 텍스트: "{phoneTitle}의 판매위치는 {location}입니다."
        - 폴백: Web Share API 미지원 시 위치 정보 복사 기능

3) 상태 확인 함수
   3-1) isInquiryListEmpty(inquiries: Inquiry[]): boolean 함수를 구현할 것
        - 입력: 문의 배열
        - 반환: 비어있는지 여부
        - 사용처: "문의가 없습니다" 메시지 조건부 렌더링

   3-2) hasReplies(inquiry: Inquiry): boolean 함수를 구현할 것
        - 입력: 문의 객체
        - 반환: 답변이 있는지 여부
        - 사용처: 답변 유무에 따른 UI 분기 처리

   3-3) isUserInquiryOwner(inquiry: Inquiry, currentUserId: string): boolean 함수를 구현할 것
        - 입력: 문의 객체, 현재 사용자 ID
        - 반환: 현재 사용자가 문의 작성자인지 여부
        - 사용처: 문의 수정/삭제 버튼 노출 조건

   3-4) isUserReplyOwner(reply: Reply, currentUserId: string): boolean 함수를 구현할 것
        - 입력: 답변 객체, 현재 사용자 ID
        - 반환: 현재 사용자가 답변 작성자인지 여부
        - 사용처: 답변 수정/삭제 버튼 노출 조건

   3-5) canUserReply(currentUserRole: string): boolean 함수를 구현할 것
        - 입력: 현재 사용자 역할
        - 반환: 답변 작성 권한 여부
        - 규칙: role === "seller"일 때만 true
        - 사용처: "답변하기" 버튼 활성화 조건

4) 데이터 검증 함수
   4-1) isValidInquiryContent(content: string): boolean 함수를 구현할 것
        - 규칙
          - 1자 이상 100자 이하
          - 공백만으로 구성되면 안 됨 (content.trim().length > 0)
        - 반환: 유효 여부

   4-2) isValidReplyContent(content: string): boolean 함수를 구현할 것
        - 규칙: isValidInquiryContent()와 동일
        - 반환: 유효 여부

5) 문자열 처리 함수
   5-1) truncateText(text: string, maxLength: number): string 함수를 구현할 것
        - 입력: 텍스트, 최대 길이
        - 기능: 지정된 길이를 초과하면 "..."으로 자르기
        - 반환: 처리된 텍스트
        - 사용처: 목록에서 긴 텍스트 표시 제한

   5-2) sanitizeHtml(text: string): string 함수를 구현할 것
        - 입력: 사용자 입력 텍스트
        - 기능: XSS 방지를 위한 HTML 이스케이핑
        - 반환: 정제된 텍스트
        - 처리 항목
          - & → &amp;
          - < → &lt;
          - > → &gt;
          - " → &quot;
          - ' → &#x27;

6) 배열 관리 함수
   6-1) addInquiryToList(inquiries: Inquiry[], newInquiry: Inquiry): Inquiry[] 함수를 구현할 것
        - 기능: 새 문의를 목록 맨 앞에 추가
        - 반환: 새로운 배열

   6-2) updateInquiryInList(inquiries: Inquiry[], inquiryId: string, updates: Partial<Inquiry>): Inquiry[] 함수를 구현할 것
        - 기능: 지정된 문의 정보 업데이트
        - 반환: 새로운 배열

   6-3) removeInquiryFromList(inquiries: Inquiry[], inquiryId: string): Inquiry[] 함수를 구현할 것
        - 기능: 지정된 문의를 목록에서 제거
        - 반환: 새로운 배열

   6-4) addReplyToInquiry(inquiries: Inquiry[], inquiryId: string, newReply: Reply): Inquiry[] 함수를 구현할 것
        - 기능: 문의에 답변 추가
        - 반환: 새로운 배열

   6-5) updateReplyInInquiry(inquiries: Inquiry[], inquiryId: string, replyId: string, updates: Partial<Reply>): Inquiry[] 함수를 구현할 것
        - 기능: 문의 내 특정 답변 업데이트
        - 반환: 새로운 배열

   6-6) removeReplyFromInquiry(inquiries: Inquiry[], inquiryId: string, replyId: string): Inquiry[] 함수를 구현할 것
        - 기능: 문의에서 답변 제거
        - 반환: 새로운 배열

핵심요구사항) 테스트 시나리오
            1) 날짜 포매팅 테스트
               - formatDate(): 정상적인 ISO 날짜 변환 테스트
               - getRelativeTime(): 다양한 시간차이에 따른 상대시간 표현 테스트

            2) 공유 기능 테스트
               - copyLinkToClipboard(): 클립보드 복사 성공/실패 처리
               - sharePhoneLocation(): Web Share API 지원 여부 확인

            3) 상태 확인 테스트
               - isInquiryListEmpty(): 빈/비지않은 배열 각각 확인
               - hasReplies(): 답변 있음/없음 각각 확인
               - 권한 확인 함수들: 사용자 ID/역할 일치/불일치 경우

            4) 데이터 검증 테스트
               - 유효한 내용 (1~100자)
               - 무효한 내용 (빈 문자열, 공백, 100자 초과)

            5) 문자열 처리 테스트
               - truncateText(): 길이별 처리 확인
               - sanitizeHtml(): HTML 이스케이핑 확인

            6) 배열 관리 테스트
               - 문의 추가/수정/제거 테스트
               - 답변 추가/수정/제거 테스트
               - 불변성 확인 (새로운 배열 반환)
