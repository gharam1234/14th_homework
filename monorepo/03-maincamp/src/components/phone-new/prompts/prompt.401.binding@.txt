아래의 조건을 모두 적용하여, 아래의 요구사항을 모두 구현할 것.
구현 결과를 체크리스트로 반환할 것.

==============================================

조건-커서룰) 아래의 커서룰을 적용하여 작업하고, 이 작업이 끝나면 해당 rules 적용 결과를 체크리스트로 반환할 것.
            - @01-common.mdc
            - @04-func.mdc

==============================================

조건-파일경로) 참고할 PAGE 경로: src/app/phones/new/page.tsx
조건-파일경로) 구현될 HOOK 파일경로: src/components/phone-new/hooks/index.binding.hook.ts
조건-파일경로) 구현될 TEST 파일경로: src/components/phone-new/tests/index.binding.hook.spec.ts

==============================================

핵심요구사항) 다음의 기능을 playwright 테스트를 활용하여 TDD 기반으로 구현하고, 테스트에 통과할 때까지 반복할 것.

1) 테스트 제외 라이브러리
   - jest
   - @testing-library/react

2) 테스트 조건
   - timeout은 설정하지 않거나, 500ms 미만으로 설정할 것.
   - 페이지가 완전히 로드된 후 테스트할 것.
       - 페이지 로드 식별 요구사항: 고정식별자 data-testid 대기 방법
       - **중요금지사항** 페이지 로드 식별 금지사항: networkidle 대기 방법

3) 테스트 API 조건
   3-1) 데이터
        - 실제 Supabase 데이터를 사용할 것.
        - Mock 데이터를 사용하지 말 것.

   3-2) 성공 시나리오
        - Supabase에서 실제 데이터를 불러와서 바인딩

   3-3) 실패 시나리오
        - Supabase 호출 실패 또는 데이터 없음 처리

4) 데이터 조건
   - 저장소: Supabase
   - 테이블명: phones
   - 접속키: ANON키
   - 요청 방식: Supabase select 쿼리
   - 요청 파라미터: id (상품 ID)

핵심요구사항) 수정 모드로 진입 시 Supabase에서 기존 상품 데이터를 불러와 폼에 바인딩할 것.

1) 데이터 로드 조건
   1-1) URL에서 상품 ID 추출
        - 쿼리 파라미터: ?id=[상품ID]
        - 예: /phones/new?id=123

   1-2) ID가 있을 때만 데이터 로드
        - ID 없음: 초안 모드 (새로 작성)
        - ID 있음: 수정 모드 (기존 데이터 로드)

2) Supabase 데이터 로드
   2-1) phones 테이블에서 데이터 조회
        - 조건: id = [URL에서 추출한 ID]
        - 조회 필드:
            - id
            - title
            - summary
            - description
            - price
            - currency
            - tags
            - categories
            - address
            - address_detail
            - zipcode
            - latitude
            - longitude
            - sale_state
            - sale_type
            - main_image_url

        - 연관 미디어: phone_media 테이블에서 phone_id = id 조건으로 url, file_name, is_primary, display_order 조회
            

   2-2) 데이터 로드 성공 시
        - 조회한 데이터를 상태 객체에 바인딩
        - usePhoneState의 switchMode('edit', data) 호출하여 수정 모드로 전환
        - 모든 필드가 기존 값으로 채워짐

   2-3) 데이터 로드 실패 시
        - 알림메시지: "상품 정보를 불러올 수 없습니다."
        - 목록 페이지로 리다이렉트: /phones

3) 데이터 바인딩 상세 내용
   - 상품명 필드: phones.title
   - 한줄 요약 필드: phones.summary
   - 상품 설명 필드: phones.description
   - 판매 가격 필드: phones.price
   - 태그 필드: phones.tags (배열)
   - 카테고리 필드: phones.categories (JSONB)
   - 주소 필드: phones.address
   - 상세주소 필드: phones.address_detail
   - 우편번호 필드: phones.zipcode
   - 위도 필드: phones.latitude
   - 경도 필드: phones.longitude
   - 거래 상태 필드: phones.sale_state
   - 판매 유형 필드: phones.sale_type
   - 대표 이미지: phones.main_image_url
   - 사진 목록: phone_media.url 배열 (is_primary, display_order 기준 정렬)

4) 로딩 상태 관리
   4-1) 로딩 중 표시
        - 데이터 로드 중: 로딩 스피너 또는 "불러오는 중..." 표시
        - data-testid="loading-indicator" 추가

   4-2) 로딩 완료 후
        - 로딩 표시 제거
        - 폼 필드에 데이터 바인딩 완료

5) 커스텀 훅 인터페이스 (usePhoneBinding)
   - 매개변수:
       - id: string | null (상품 ID, URL에서 추출)
   - 반환값:
       - data: ProductState | null (불러온 상품 데이터)
       - isLoading: boolean (로딩 상태)
       - error: Error | null (에러 상태)
       - refetch: () => Promise<void> (데이터 다시 불러오기)

6) 테스트 시나리오
   6-1) 초안 모드 테스트 (ID 없음)
        - URL에 ID가 없을 때 데이터 로드하지 않는지 검증
        - 빈 폼으로 시작하는지 검증

   6-2) 수정 모드 데이터 로드 테스트 (ID 있음)
        - URL에서 ID 추출 후 Supabase 조회 검증
        - 조회한 데이터가 폼 필드에 정상 바인딩되는지 검증
        - 모든 필드값이 올바른지 검증

   6-3) 로딩 상태 테스트
        - 데이터 로드 중 로딩 표시가 나타나는지 검증
        - 로드 완료 후 로딩 표시가 사라지는지 검증

   6-4) 데이터 로드 실패 테스트
        - 존재하지 않는 ID로 조회 시 에러 처리 검증
        - 네트워크 오류 시 에러 메시지 표시 검증
        - 실패 후 목록 페이지로 리다이렉트 검증

   6-5) 이미지 배열 바인딩 테스트
        - 여러 이미지 URL이 배열로 정상 바인딩되는지 검증
        - 이미지 미리보기가 표시되는지 검증
