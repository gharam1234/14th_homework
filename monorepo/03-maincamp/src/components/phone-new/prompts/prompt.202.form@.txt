아래의 조건을 모두 적용하여, 아래의 요구사항을 모두 구현할 것.
구현 결과를 체크리스트로 반환할 것.

==============================================

조건-커서룰) 아래의 커서룰을 적용하여 작업하고, 이 작업이 끝나면 해당 rules 적용 결과를 체크리스트로 반환할 것.
            - @01-common.mdc
            - @04-func.mdc

조건-파일경로) 참고할 TSX 파일경로: src/components/phone-new/index.tsx
조건-파일경로) 참고할 CSS 파일경로: src/components/phone-new/styles.module.css
조건-파일경로) 참고할 PAGE 파일경로: src/app/(protected)/phones/[id]/edit/page.tsx
               ⚠️ Next.js 라우팅 문법 주의사항:
               - [id]: 동적 라우팅 폴더명 (대괄호 그대로 사용)
               - (protected): 라우트 그룹 (괄호 그대로 사용)
               - URL 인코딩 절대 금지: [id] ≠ %5Bid%5D
               - 파일 시스템 경로에 특수문자를 리터럴로 사용할 것
조건-파일경로) 구현될 HOOK 파일경로: src/components/phone-new/hooks/index.form.hook.ts
조건-파일경로) 구현될 TEST 파일경로: src/components/phone-new/tests/index.form.hook.spec.ts
조건-파일경로) 참고할 TYPE 파일경로: src/components/phone-new/types.ts

==============================================

핵심요구사항) 완성된 컴포넌트를 페이지에서 import하여 연결시킬 것.
                - 연결될 경로: src/app/(protected)/phones/[id]/edit/page.tsx
                - props로 전달할 내용:
                  - isEdit: true
                  - phoneId: URL의 동적 파라미터 [id]에서 추출

핵심요구사항) 다음의 기능을 playwright 테스트를 활용하여 TDD 기반으로 구현하고, 테스트에 통과할 때까지 반복할 것.

1) 테스트 제외 라이브러리
- jest
- @testing-library/react

2) 테스트 조건
- timeout은 설정하지 않거나, 500ms 미만으로 설정할 것.
- 페이지가 완전히 로드된 후 테스트할 것.
  - 페이지 로드 식별 요구사항: 고정식별자 data-testid 대기 방법
  - **중요금지사항** 페이지 로드 식별 금지사항: networkidle 대기 방법

3) 테스트 로컬스토리지 조건
3-1) 데이터
- 실제데이터를 사용할 것.
- Mock데이터 사용하지 말 것.

3-2) 성공시나리오
- 로컬스토리지 모킹하지 말 것.

3-3) 실패시나리오
- 로컬스토리지 모킹하지 말 것.

4) 테스트 데이터타입
- 저장소: 로컬스토리지
- key: phone-{phoneId}
- value: {
    phoneId: string;
    title: string;
    summary: string;
    description: string;
    price: string;
    tags: string;
    address: string;
    zipcode: string;
    address_detail: string;
    latitude: string;
    longitude: string;
    mediaUrls: string[];
  }

핵심요구사항) isEdit props를 추가하여 신규등록/수정 모드를 구분할 것.

1) Props 구조
- isEdit: boolean (기본값: false)
- phoneId: string | undefined (수정 모드일 때 필수)

2) 모드별 동작
- isEdit=false: 신규등록 모드 (기존 동작)
  - 빈 폼으로 시작
  - "등록하기" 버튼
  - 성공 후: 로컬스토리지에 저장 및 /phones/new 페이지 유지
- isEdit=true: 수정 모드
  - 기존 데이터로 폼 초기화 (phoneId를 key로 로컬스토리지에서 조회)
  - "수정하기" 버튼
  - 성공 후: 로컬스토리지 업데이트 및 수정 페이지(/phones/[id]/edit) 유지

3) 로컬스토리지 초기 데이터 구조
- key: `phone-{phoneId}`
- value: 위 데이터타입 참고

핵심요구사항) react-hook-form + zod를 사용하여 폼 관리 및 검증을 구현할 것.

1) Zod 스키마 정의
- 기기명: 문자열, 필수
- 한줄 요약: 문자열, 필수
- 상품 설명: 문자열, 필수
- 판매 가격: 숫자, 필수, 최소값 0
- 태그: 문자열, 선택
- 주소: 문자열, 필수
- 우편번호(zipcode): 문자열, 필수
- 상세주소(address_detail): 문자열, 필수
- 위도: 숫자, 자동생성 필드 (사용자 입력 불가)
- 경도: 숫자, 자동생성 필드 (사용자 입력 불가)
- 미디어(URL) 배열: 최소 1개 필수, phone_media.url에 대응

2) 폼 기본값 설정
- isEdit=false: 모든 필드 빈 값
- isEdit=true: 로컬스토리지에서 phoneId로 조회하여 초기화

3) 폼 제출 처리
- 검증 통과 시 로컬스토리지 저장
- isEdit 여부에 따라 새로 저장 또는 업데이트

핵심요구사항) 다음의 이벤트 핸들러들을 구현할 것.

1) 취소 버튼
- 클릭 시 폼 리셋 (isEdit=false이면 빈 값, isEdit=true이면 원본 값)
- 혹은 이전 페이지로 이동

2) 등록하기/수정하기 버튼
- 폼 검증 통과 시 활성화
- 클릭 시 폼 제출
- 성공 후 로컬스토리지에 저장 및 성공 메시지 표시

3) 우편번호 검색 버튼
- 클릭 시 우편번호 검색 모달 표시 (react-daum-postcode 사용)
- 주소 선택 시 주소/우편번호 필드에 자동 입력

4) 지도 표시
- 위도/경도 값이 있으면 지도에 표시 (placeholder → 실제 지도 라이브러리 연동)
- 사용자가 주소 선택 시 좌표 자동 계산 (현재는 더미값 사용 가능)

5) 사진 첨부
- 파일 선택 시 이미지 미리보기 표시
- 최대 2개 첨부 (기존 UI 참고)
- 각 사진에 삭제 버튼 제공
- 첨부 목록은 추후 phone_media.url / file_name / is_primary 필드와 매핑될 메타데이터를 유지할 것

핵심요구사항) 다음의 CSS 처리를 적용할 것.

1) 필수 필드 표시 (이미 있음)
- 필수 필드 옆에 빨간 * 표시

2) 검증 에러 표시
- 각 입력 필드 아래에 에러 메시지 표시
- 에러 발생 시 테두리 색상 변경 (예: red)

3) 버튼 상태
- 폼 검증 미통과 시 "등록하기/수정하기" 버튼 disabled 상태
- CSS: disabled 상태에서 opacity 또는 색상 변경

4) 로딩 상태
- 폼 제출 중 로딩 상태 표시
- 스피너 또는 버튼 텍스트 변경 (예: "처리 중...")

핵심요구사항) 테스트는 다음의 시나리오를 포함할 것.

1) 신규등록 모드 테스트 (isEdit=false)
- 모든 필드가 빈 값으로 렌더링됨
- "등록하기" 버튼이 표시됨
- 필수 필드를 모두 입력하면 버튼 활성화
- 형식 정보 입력 시 에러 메시지 표시 (예: 가격에 문자 입력)
- 폼 제출 시 로컬스토리지에 저장

2) 수정 모드 테스트 (isEdit=true, phoneId="phone-001")
- 로컬스토리지에서 기존 데이터 조회하여 폼 초기화
- "수정하기" 버튼이 표시됨
- 데이터 수정 후 제출 시 로컬스토리지 업데이트
- 취소 버튼 클릭 시 원본 값으로 복구

3) 우편번호 검색 테스트
- 우편번호 검색 버튼 클릭 시 react-daum-postcode 모달 표시
- 주소 선택 시 폼 필드 자동 채움

4) 사진(미디어) 첨부 테스트
 - 파일 선택 시 이미지 미리보기 표시
 - 최대 2개까지만 첨부 가능
 - 삭제 버튼으로 사진 제거
 - 첨부 결과가 phone_media 테이블용 메타데이터와 동기화되는지 검증
 - 미디어 없이 제출 불가 (에러 메시지)

5) 폼 검증 테스트
- 필수 필드 누락 시 에러 메시지 표시
- 가격에 음수 입력 불가
- 유효한 모든 데이터 입력 시 성공
